<div class="form-floating">
    <input  
        [ngClass]="(controlDirective && controlDirective.control 
        && controlDirective.control.touched) ? !controlDirective.control.valid ?'is-invalid':'is-valid':null"
        [type]="type"
        (input)="onChange($event.target.value)" 
        (blur)="onTouched()"
        class="form-control" 
        id="{{label}}" 
        #input
        placeholder="{{label}}">
    <div *ngIf="controlDirective && controlDirective.control && controlDirective.control.status==='PENDING'"
    class="fa fa-spinner fa-spin loader">
    </div>
    <label for="{{label}}">{{label}}</label>
    <div class="invalid-feedback" *ngIf="(controlDirective && controlDirective.control && !controlDirective.control.valid && controlDirective.control.touched)">
        <span *ngIf="controlDirective.control.errors?.required">{{label}} is required</span>
        <span *ngIf="controlDirective.control.errors?.pattern">{{label}} is invalid</span>
    </div>
    <div class="invalid-feedback" *ngIf="(controlDirective && controlDirective.control && !controlDirective.control.valid && controlDirective.control.dirty)">
        <span *ngIf="controlDirective.control.errors?.emailExists">{{label}} already exists</span>
    </div>
  </div>